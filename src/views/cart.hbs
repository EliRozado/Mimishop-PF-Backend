<nav class="navbar navbar-expand-lg bg-dark flex-column">
    <div class="container py-1 ">
        <div class="container-fluid d-flex justify-content-between">
            <a class="navbar-brand text-bg-dark" href="/products">Mimi Shop</a>
            <a class="btn btn-danger" href="/session/logout"><i class="bi bi-x-circle-fill"></i> Logout</a>
            </div>
        </div>
    </div>
</nav>
<div class="navbar navbar-expand-lg bg-light mb-3">
    <div class="container d-flex align-items-baseline">
        <a class="nav-link me-auto" href="/products"><i class="bi bi-arrow-left"></i> Back to products</a>
        <div class="navbar-nav d-flex justify-content-between ">
            <a class="nav-link" href="/user/{{user}}">Profile</a>
        </div>
    </div>
</div>

<div class="container">
    <h1>Carrito</h1>
    <table class="table">
        <thead class="table-dark">
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Code</th>
                <th scope="col">Price</th>
                <th scope="col">Stock</th>
                <th scope="col">Category</th>
                <th scope="col">Qty.</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody id="cartWrapper">
            {{#each cart.products}}
                <tr class="{{this.product.id}}">
                    <td> {{this.product.title}}         </td>
                    <td> {{this.product.description}}   </td>
                    <td> {{this.product.code}}          </td>
                    <td> {{this.product.price}} ARS     </td>
                    <td> {{this.product.stock}}         </td>
                    <td> {{this.product.category}}      </td>
                    <td> <button type="button" pid="{{this.product.id}}" class="btn btn-light border">+</button>
                            <span class="{{this.product.id}}" style="padding: 7px;">{{this.quantity}}</span>
                        <button type="button" pid="{{this.product.id}}" class="btn btn-light border">-</button></td>
                    <td> <button type="button" pid="{{this.product.id}}" onclick="catchClick()" class="btn btn-warning" ><i class="bi bi-trash3-fill"></i></button></td>
                </tr>
            {{/each}}
        </tbody>
    </table>
    <div>
        <p><strong>Total:</strong> <span id="quantity">0</span></p>
        <button type="button" onclick="catchClick(e)" class="btn btn-danger text-light" >Empty Cart</button>
        <button type="button" onclick="catchClick(e)" class="btn btn-dark text-light" >Complete Purchase</button>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script src="./../static/js/fetch_request.js"></script>
<script src="./../static/js/main.js"></script>